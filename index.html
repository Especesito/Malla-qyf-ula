<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Malla Curricular Qu√≠mica y Farmacia</title>
  <style>
    :root {
      --bg: #f4f4f4; --text: #2435A3;
      --sem-bg: #eef0ff; --sem-border: #4650D4;
      --ramo-bg: #b6a8f9; --ramo-hover: #a7e8f5;
      --ramo-text: #fff; --tooltip-bg: #2435A3;
      --approved-bg: #c0c0c0; --approved-text: #666;
      --blocked-opacity: 0.5;
    }
    body.dark-mode {
      --bg: #121212; --text: #e0e0e0;
      --sem-bg: #1e1e1e; --sem-border: #555;
      --ramo-bg: #333; --ramo-hover: #444;
      --ramo-text: #e0e0e0; --tooltip-bg: #000;
      --approved-bg: #444; --approved-text: #888;
      --blocked-opacity: 0.3;
    }
    body {
      font-family: sans-serif;
      background: var(--bg);
      color: var(--text);
      margin: 0; padding: 1rem;
      transition: background 0.3s, color 0.3s;
    }
    h1 { text-align:center; margin:0; color:var(--text); }
    h3 { text-align:center; margin:0.2rem 0 1rem; color:var(--sem-border); }
    #toggle-theme {
      position:fixed; top:1rem; right:1rem;
      font-size:1.2rem; padding:0.5rem; border:none; border-radius:5px;
      background:var(--sem-border); color:#fff; cursor:pointer; z-index:1000;
      transition: background 0.3s;
    }
    #toggle-theme:hover { background:var(--ramo-hover); }
    .malla {
      display:grid; grid-template-columns:repeat(2,1fr);
      gap:1rem; max-width:1200px; margin:0 auto;
    }
    .semestre {
      background:var(--sem-bg);
      border:2px solid var(--sem-border);
      border-radius:12px; padding:0.5rem;
    }
    .semestre h2 {
      margin:0.5rem 0; font-size:1.1rem;
      color:var(--sem-border); text-align:center;
    }
    .ramo {
      background:var(--ramo-bg); border-radius:10px;
      margin:0.4rem 0; padding:0.6rem; color:var(--ramo-text);
      position:relative; cursor:pointer;
      transition: background 0.3s, color 0.3s, opacity 0.3s;
    }
    .ramo.blocked { opacity:var(--blocked-opacity); }
    .ramo:hover:not(.blocked) {
      background:var(--ramo-hover); color:var(--text);
    }
    .ramo.approved {
      background:var(--approved-bg); color:var(--approved-text);
      text-decoration:line-through;
    }
    .ramo[data-desc]:not([data-desc=""])::after {
      content:attr(data-desc);
      position:absolute; bottom:110%; left:50%; transform:translateX(-50%);
      background:var(--tooltip-bg); color:#fff; padding:0.5rem;
      border-radius:6px; opacity:0; visibility:hidden;
      white-space:pre-wrap; width:200px; transition:opacity 0.2s; z-index:10;
    }
    .ramo[data-desc]:not([data-desc=""]):hover::after {
      opacity:1; visibility:visible;
    }
  </style>
</head>
<body>
  <button id="toggle-theme" title="Cambiar tema">üåô</button>
  <h1>Malla Curricular - Qu√≠mica y Farmacia</h1>
  <h3>ULagos</h3>
  <div class="malla">
    <!-- 1¬∞ Semestre -->
    <div class="semestre"><h2>1¬∞</h2>
      <div class="ramo" data-sem="1" id="Qu√≠mica General"
           data-desc="Identifica los conceptos b√°sicos de la qu√≠mica a nivel at√≥mico y molecular con √©nfasis en disoluciones acuosas."
           data-prereq="">Qu√≠mica General</div>
      <div class="ramo" data-sem="1" id="T√©cnicas B√°sicas de Laboratorio"
           data-desc="Operaciones comunes de laboratorio, h√°bitos de trabajo y seguridad."
           data-prereq="">T√©cnicas B√°sicas de Laboratorio</div>
      <div class="ramo" data-sem="1" id="Biolog√≠a Celular y Molecular"
           data-desc="Aspectos b√°sicos de biolog√≠a celular, molecular y gen√©tica."
           data-prereq="">Biolog√≠a Celular y Molecular</div>
      <div class="ramo" data-sem="1" id="√Ålgebra"
           data-desc="Herramientas matem√°ticas b√°sicas para c√°lculo y modelado."
           data-prereq="">√Ålgebra</div>
      <div class="ramo" data-sem="1" id="Introducci√≥n a las Ciencias Farmac√©uticas"
           data-desc="√Åmbitos del ejercicio farmac√©utico y rol profesional."
           data-prereq="">Introducci√≥n a las Ciencias Farmac√©uticas</div>
      <div class="ramo" data-sem="1" id="Comunicaci√≥n"
           data-desc="" data-prereq="">Comunicaci√≥n</div>
    </div>
    <!-- 2¬∞ Semestre -->
    <div class="semestre"><h2>2¬∞</h2>
      <div class="ramo" data-sem="2" id="Qu√≠mica General Aplicada"
           data-desc="Equilibrio, √°cido-base y electroqu√≠mica en disoluciones."
           data-prereq="T√©cnicas B√°sicas de Laboratorio|Qu√≠mica General">Qu√≠mica General Aplicada</div>
      <div class="ramo" data-sem="2" id="Anatom√≠a e histolog√≠a"
           data-desc="Estructura anat√≥mica e histol√≥gica de √≥rganos y tejidos."
           data-prereq="Biolog√≠a Celular y Molecular">Anatom√≠a e histolog√≠a</div>
      <div class="ramo" data-sem="2" id="C√°lculo"
           data-desc="Modelamiento matem√°tico de fen√≥menos din√°micos en una variable."
           data-prereq="√Ålgebra">C√°lculo</div>
      <div class="ramo" data-sem="2" id="F√≠sica para Ciencias"
           data-desc="Conceptos de mec√°nica, termodin√°mica, electricidad y ondas."
           data-prereq="">F√≠sica para Ciencias</div>
      <div class="ramo" data-sem="2" id="Ciudadan√≠a orientada al buen vivir"
           data-desc="" data-prereq="">Ciudadan√≠a orientada al buen vivir</div>
      <div class="ramo" data-sem="2" id="Ingl√©s I"
           data-desc="" data-prereq="">Ingl√©s I</div>
    </div>
    <!-- 3¬∞ Semestre -->
    <div class="semestre"><h2>3¬∞</h2>
      <div class="ramo" data-sem="3" id="Qu√≠mica Org√°nica"
           data-desc="Estructura y reactividad de mol√©culas org√°nicas."
           data-prereq="">Qu√≠mica Org√°nica</div>
      <div class="ramo" data-sem="3" id="Qu√≠mica Anal√≠tica"
           data-desc="Determinaci√≥n cualitativa y cuantitativa de especies qu√≠micas."
           data-prereq="Qu√≠mica General Aplicada">Qu√≠mica Anal√≠tica</div>
      <div class="ramo" data-sem="3" id="Fisiolog√≠a General"
           data-desc="Funcionamiento integral del organismo y homeostasis."
           data-prereq="Anatom√≠a e histolog√≠a">Fisiolog√≠a General</div>
      <div class="ramo" data-sem="3" id="Fisicoqu√≠mica"
           data-desc="Aplicaci√≥n de termodin√°mica a procesos qu√≠micos."
           data-prereq="F√≠sica para Ciencias">Fisicoqu√≠mica</div>
      <div class="ramo" data-sem="3" id="Epidemiolog√≠a"
           data-desc="" data-prereq="">Epidemiolog√≠a</div>
      <div class="ramo" data-sem="3" id="Ingl√©s II"
           data-desc="" data-prereq="">Ingl√©s II</div>
      <div class="ramo" data-sem="3" id="Electivo de formaci√≥n integral"
           data-desc="" data-prereq="">Electivo de formaci√≥n integral</div>
    </div>
    <!-- 4¬∞ Semestre -->
    <div class="semestre"><h2>4¬∞</h2>
      <div class="ramo" data-sem="4" id="Qu√≠mica Org√°nica Aplicada"
           data-desc="Descripci√≥n y an√°lisis experimental de mol√©culas org√°nicas."
           data-prereq="Qu√≠mica Org√°nica">Qu√≠mica Org√°nica Aplicada</div>
      <div class="ramo" data-sem="4" id="An√°lisis Instrumental"
           data-desc="Comparaci√≥n de t√©cnicas instrumentales de an√°lisis."
           data-prereq="Qu√≠mica Anal√≠tica">An√°lisis Instrumental</div>
      <div class="ramo" data-sem="4" id="Fisiopatolog√≠a"
           data-desc="Mecanismos de enfermedad y manifestaciones cl√≠nicas."
           data-prereq="Fisiolog√≠a General">Fisiopatolog√≠a</div>
      <div class="ramo" data-sem="4" id="Bioqu√≠mica General"
           data-desc="Fundamentos bioqu√≠micos de procesos celulares."
           data-prereq="">Bioqu√≠mica General</div>
      <div class="ramo" data-sem="4" id="Salud P√∫blica"
           data-desc="" data-prereq="">Salud P√∫blica</div>
      <div class="ramo" data-sem="4" id="Bioestad√≠stica"
           data-desc="" data-prereq="">Bioestad√≠stica</div>
      <div class="ramo" data-sem="4" id="Modelo de atenci√≥n en salud"
           data-desc="" data-prereq="">Modelo de atenci√≥n en salud</div>
      <div class="ramo" data-sem="4" id="Ingl√©s III"
           data-desc="" data-prereq="">Ingl√©s III</div>
      <div class="ramo" data-sem="4" id="Evaluaci√≥n logro perfil de egreso"
           data-desc="Evaluaci√≥n para pr√°ctica temprana."
           data-prereq="">Evaluaci√≥n logro perfil de egreso</div>
    </div>
    <!-- 5¬∞ Semestre -->
    <div class="semestre"><h2>5¬∞</h2>
      <div class="ramo" data-sem="5" id="Farmacognosia y fitoterapia"
           data-desc="Caracterizaci√≥n de principios activos vegetales."
           data-prereq="Qu√≠mica Org√°nica Aplicada">Farmacognosia y fitoterapia</div>
      <div class="ramo" data-sem="5" id="Farmacoqu√≠mica y an√°lisis de medicamentos"
           data-desc="Relaci√≥n estructura-actividad farmacol√≥gica."
           data-prereq="An√°lisis Instrumental">Farmacoqu√≠mica y an√°lisis de medicamentos</div>
      <div class="ramo" data-sem="5" id="Bioqu√≠mica cl√≠nica y hematolog√≠a general"
           data-desc="Procesos bioqu√≠micos normales y patol√≥gicos."
           data-prereq="Bioqu√≠mica General">Bioqu√≠mica cl√≠nica y hematolog√≠a general</div>
      <div class="ramo" data-sem="5" id="Inmunolog√≠a"
           data-desc="Mecanismos de la respuesta inmune."
           data-prereq="">Inmunolog√≠a</div>
      <div class="ramo" data-sem="5" id="Bromatolog√≠a y nutrici√≥n humana"
           data-desc="Sustancias qu√≠micas en alimentos y nutrici√≥n."
           data-prereq="">Bromatolog√≠a y nutrici√≥n humana</div>
      <div class="ramo" data-sem="5" id="Salud P√∫blica 2"
           data-desc="" data-prereq="">Salud P√∫blica</div>
      <div class="ramo" data-sem="5" id="Pr√°ctica temprana"
           data-desc="Primera pr√°ctica profesional."
           data-prereq="">Pr√°ctica temprana</div>
    </div>
    <!-- 6¬∞ Semestre -->
    <div class="semestre"><h2>6¬∞</h2>
      <div class="ramo" data-sem="6" id="Farmacolog√≠a general y molecular"
           data-desc="Acci√≥n de f√°rmacos a nivel molecular."
           data-prereq="Farmacoqu√≠mica y an√°lisis de medicamentos">Farmacolog√≠a general y molecular</div>
      <div class="ramo" data-sem="6" id="Tecnolog√≠a Farmac√©utica s√≥lidos y l√≠quidos"
           data-desc="Elaboraci√≥n de medicamentos s√≥lidos y l√≠quidos."
           data-prereq="Farmacoqu√≠mica y an√°lisis de medicamentos">Tecnolog√≠a Farmac√©utica s√≥lidos y l√≠quidos</div>
      <div class="ramo" data-sem="6" id="Microbiolog√≠a y Parasitolog√≠a"
           data-desc="Estudio de microorganismos y par√°sitos."
           data-prereq="Bioqu√≠mica cl√≠nica y hematolog√≠a general">Microbiolog√≠a y Parasitolog√≠a</div>
      <div class="ramo" data-sem="6" id="Legislaci√≥n farmac√©utica"
           data-desc="Normativa y deontolog√≠a farmac√©utica."
           data-prereq="">Legislaci√≥n farmac√©utica</div>
      <div class="ramo" data-sem="6" id="Metodolog√≠a de la Investigaci√≥n"
           data-desc="" data-prereq="">Metodolog√≠a de la Investigaci√≥n</div>
      <div class="ramo" data-sem="6" id="Educaci√≥n en Salud"
           data-desc="" data-prereq="">Educaci√≥n en Salud</div>
    </div>
    <!-- 7¬∞ Semestre -->
    <div class="semestre"><h2>7¬∞</h2>
      <div class="ramo" data-sem="7" id="Farmacolog√≠a de sistemas"
           data-desc="Farmacodin√°mica y efectos adversos."
           data-prereq="Farmacolog√≠a general y molecular">Farmacolog√≠a de sistemas</div>
      <div class="ramo" data-sem="7" id="Farmacolog√≠a de Quimioterap√©uticos"
           data-desc="Acci√≥n de quimioterap√©uticos."
           data-prereq="Microbiolog√≠a y Parasitolog√≠a">Farmacolog√≠a de Quimioterap√©uticos</div>
      <div class="ramo" data-sem="7" id="Tecnolog√≠a Farmac√©utica Semis√≥lidos"
           data-desc="Producci√≥n de semis√≥lidos."
           data-prereq="Tecnolog√≠a Farmac√©utica s√≥lidos y l√≠quidos">Tecnolog√≠a Farmac√©utica Semis√≥lidos</div>
      <div class="ramo" data-sem="7" id="Gesti√≥n Farmac√©utica"
           data-desc="Rol gestor y t√©cnico farmac√©utico."
           data-prereq="">Gesti√≥n Farmac√©utica</div>
      <div class="ramo" data-sem="7" id="Seminario de investigaci√≥n"
           data-desc="" data-prereq="">Seminario de investigaci√≥n</div>
      <div class="ramo" data-sem="7" id="Electivo de Formaci√≥n Integral"
           data-desc="" data-prereq="">Electivo de Formaci√≥n Integral</div>
      <div class="ramo" data-sem="7" id="Pr√°ctica Temprana 2"
           data-desc="Segunda pr√°ctica profesional."
           data-prereq="">Pr√°ctica Temprana 2</div>
    </div>
    <!-- 8¬∞ Semestre -->
    <div class="semestre"><h2>8¬∞</h2>
      <div class="ramo" data-sem="8" id="Farmacoterapia de patolog√≠as infecciosas"
           data-desc="Dise√±o y seguimiento de terapias antimicrobianas."
           data-prereq="Farmacolog√≠a de Quimioterap√©uticos">Farmacoterapia de patolog√≠as infecciosas</div>
      <div class="ramo" data-sem="8" id="Farmacoterapia de patolog√≠as no infecciosas"
           data-desc="Terapias farmacol√≥gicas para patolog√≠as cr√≥nicas."
           data-prereq="Farmacolog√≠a de sistemas">Farmacoterapia de patolog√≠as no infecciosas</div>
      <div class="ramo" data-sem="8" id="Farmacocin√©tica y biofarmacia"
           data-desc="Procesos LADME de los f√°rmacos."
           data-prereq="Tecnolog√≠a Farmac√©utica Semis√≥lidos">Farmacocin√©tica y biofarmacia</div>
      <div class="ramo" data-sem="8" id="Toxicolog√≠a"
           data-desc="Efectos nocivos y t√©cnicas de detecci√≥n."
           data-prereq="">Toxicolog√≠a</div>
      <div class="ramo" data-sem="8" id="Farmacolog√≠a cl√≠nica y atenci√≥n farmac√©utica"
           data-desc="Evaluaci√≥n terap√©utica en pacientes."
           data-prereq="">Farmacolog√≠a cl√≠nica y atenci√≥n farmac√©utica</div>
      <div class="ramo" data-sem="8" id="Actividad de profundizaci√≥n disciplinar"
           data-desc="" data-prereq="">Actividad de profundizaci√≥n disciplinar</div>
      <div class="ramo" data-sem="8" id="Gesti√≥n de Proyectos en Salud"
           data-desc="" data-prereq="">Gesti√≥n de Proyectos en Salud</div>
      <div class="ramo" data-sem="8" id="Evaluaci√≥n logro perfil de egreso"
           data-desc="Evaluaci√≥n final de perfil profesional."
           data-prereq="">Evaluaci√≥n logro perfil de egreso</div>
    </div>
    <!-- 9¬∞ Semestre -->
    <div class="semestre"><h2>9¬∞</h2>
      <div class="ramo" data-sem="9" id="Pr√°ctica Profesional Comunitaria"
           data-desc="" data-prereq="">Pr√°ctica Profesional Comunitaria</div>
      <div class="ramo" data-sem="9" id="Unidad de Investigaci√≥n I o Internado I"
           data-desc="" data-prereq="Pr√°ctica Profesional Comunitaria">Unidad de Investigaci√≥n I o Internado I</div>
    </div>
    <!-- 10¬∞ Semestre -->
    <div class="semestre"><h2>10¬∞</h2>
      <div class="ramo" data-sem="10" id="Unidad de Investigaci√≥n II o Internado II"
           data-desc="" data-prereq="Unidad de Investigaci√≥n I o Internado I">Unidad de Investigaci√≥n II o Internado II</div>
      <div class="ramo" data-sem="10" id="Actividad de Titulaci√≥n"
           data-desc="" data-prereq="Unidad de Investigaci√≥n II o Internado II">Actividad de Titulaci√≥n</div>
    </div>
  </div>

  <script>
    // Toggle oscuro/claro
    const btn = document.getElementById('toggle-theme');
    btn.onclick = () => {
      document.body.classList.toggle('dark-mode');
      const d = document.body.classList.contains('dark-mode');
      localStorage.setItem('dark-mode', d);
      btn.textContent = d ? '‚òÄÔ∏è' : 'üåô';
    };
    if (localStorage.getItem('dark-mode')==='true') {
      document.body.classList.add('dark-mode');
      btn.textContent='‚òÄÔ∏è';
    }

    const ramos = Array.from(document.querySelectorAll('.ramo'));

    // Comprueba todos de 1¬∞ a 8¬∞
    function todosPrimeros8(){
      return ramos
        .filter(r=> +r.dataset.sem < 9)
        .every(r=> r.classList.contains('approved'));
    }

    function updateBloqueos(){
      ramos.forEach(el=>{
        let blocked = false;
        const sem = +el.dataset.sem;
        const reqs = el.dataset.prereq.split('|').filter(x=>x);
        if (reqs.length && !reqs.every(id=> document.getElementById(id).classList.contains('approved'))){
          blocked = true;
        }
        if (sem >=9 && !todosPrimeros8()){
          blocked = true;
        }
        el.classList.toggle('blocked', blocked);
      });
    }

    function init(){
      ramos.forEach(el=>{
        if (localStorage.getItem(el.id)==='true'){
          el.classList.add('approved');
        }
        el.onclick = ()=>{
          const sem=+el.dataset.sem;
          if (sem>=9 && !todosPrimeros8()){
            alert('Debes aprobar TODOS los ramos de 1¬∞ a 8¬∞ semestre primero.');
            return;
          }
          const reqs=el.dataset.prereq.split('|').filter(x=>x);
          if (reqs.length && !reqs.every(id=> document.getElementById(id).classList.contains('approved'))){
            alert('Debes aprobar primero: '+reqs.join(', '));
            return;
          }
          el.classList.toggle('approved');
          localStorage.setItem(el.id, el.classList.contains('approved'));
          updateBloqueos();
        };
      });
      updateBloqueos();
    }
    init();
  </script>
</body>
</html>
